<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Infection Control Flowcharts</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Include Mermaid.js -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11.3.0/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
    <!-- Include Bootstrap CSS and JS for Modal -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <nav>
        <div class="navbar">
            <div class="logo">
                <h1>Infection Control</h1>
            </div>
            <ul class="nav-links">
                <li><a href="#cfd-experiment">CFD Aerosol Experiment</a></li>
                <li><a href="#clinostat-experiment">Clinostat Experiment</a></li>
                <li><a href="#space-experiment">Space Experiment</a></li>
            </ul>
            <button id="themeToggle"><i class="fa fa-moon"></i></button>
        </div>
    </nav>

    <header>
        <h2>Infection Control Flowcharts</h2>
        <p>Visualizing the experimental workflows for managing infections in space and Earth-based environments.</p>
    </header>

    <main>
        <!-- CFD Aerosol Experiment -->
        <section id="cfd-experiment">
            <h3>CFD Aerosol Experiment</h3>
            <div class="mermaid">
                graph LR
                Start(Start) --> DefineGeometry["Define Enclosed Space Geometry<br/>Setting up physical dimensions"]
                DefineGeometry --> SetParameters["Set CFD Model Parameters<br/>Configure airflow and turbulence"]
                SetParameters --> SimulateBreathing["Simulate Breathing as Aerosol Source<br/>Model emission at 12 breaths/min"]
                SimulateBreathing --> RunSimulation["Run CFD Simulation<br/>Execute to track aerosol dispersion"]
                RunSimulation --> AnalyzeResults["Analyze Aerosol Dispersion Patterns<br/>Evaluate spread and accumulation"]
                AnalyzeResults --> IdentifyZones["Identify High-Risk Zones<br/>Determine areas with high aerosol concentration"]
                IdentifyZones --> End(End)
            </div>
        </section>

        <!-- Clinostat Experiment -->
        <section id="clinostat-experiment">
            <h3>Clinostat Experiment</h3>
            <div class="mermaid">
                graph TB
                Start(Start) --> PrepareCultures["Prepare E. coli Cultures<br/>Inoculate LB broth with E. coli K12"]
                PrepareCultures --> SetupClinostat["Set Up Clinostat<br/>Construct and calibrate to simulate microgravity"]
                SetupClinostat --> PlaceCultures["Place Cultures on Clinostat<br/>Transfer into clinostat's environment"]
                PlaceCultures --> IncubateCultures["Incubate Cultures<br/>Maintain at 37Â°C with continuous rotation"]
                IncubateCultures --> MonitorGrowth["Monitor Bacterial Growth<br/>Measure OD600, biofilm, morphology"]
                MonitorGrowth --> CompareResults["Compare Microgravity and Control Groups<br/>Assess differences in growth and biofilms"]
                CompareResults --> DetermineGrowth["Determine Growth Rate<br/>Calculate exponential growth rates"]
                DetermineGrowth --> End(End)
            </div>
        </section>

        <!-- Space Experiment with AI-Driven Filtration -->
        <section id="space-experiment">
            <h3>Space Experiment with AI-Driven Filtration</h3>
            <div class="mermaid">
                graph TD
                Start(Start) --> CollectPathogens["Collect Pathogens using ESP<br/>Electrostatic Precipitator captures aerosols"]
                CollectPathogens --> IdentifyPathogens["Identify Pathogens using DIP Biosensor<br/>Digital Photocorrosion for Legionella detection"]
                IdentifyPathogens --> AIProcess["AI Processes Data<br/>Assess infection risk and pathogen levels"]
                AIProcess --> Decision{Aerosol Concentration<br/>Above Threshold?}
                Decision -- Yes --> ActivateFiltration["Activate Filtration System<br/>Engage HEPA filters and UV-C irradiation"]
                Decision -- No --> ContinueMonitor["Continue Monitoring<br/>Maintain regular surveillance"]
                ActivateFiltration --> FilterOperation["Filter Operation<br/>Reduce aerosol concentration"]
                FilterOperation --> CheckThreshold["Check if Threshold Met<br/>Assess if filtration is sufficient"]
                CheckThreshold -- Met --> End(End)
                CheckThreshold -- Not Met --> ActivateFiltration
                ContinueMonitor --> AIProcess
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Infection Control Research</p>
    </footer>

    <!-- Modal for Flowchart Node Information -->
    <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="infoModalLabel">Node Information</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body" id="modalContent">
            <!-- Dynamic content goes here -->
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <script src="scripts.js"></script>
</body>
</html>
